{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ebaffbf4fe7355a081fb","webpack:///d:/OpenServer/domains/spiral-modules/src/index.js","webpack:///external \"sf\"","webpack:///d:/OpenServer/domains/spiral-modules/src/crop.js","webpack:///d:/OpenServer/domains/spiral-modules/~/babel-runtime/core-js/object/create.js","webpack:///d:/OpenServer/domains/spiral-modules/~/core-js/library/fn/object/create.js","webpack:///d:/OpenServer/domains/spiral-modules/~/core-js/library/modules/$.js","webpack:///./src/template.html","webpack:///./src/crop.less?42c3","webpack:///./src/crop.less","webpack:///d:/OpenServer/domains/spiral-modules/~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtCA,aAAY,CAAC;;;;;;;;;;;;AAIb,cAAG,mBAAmB,CAAC,oBAAoB,iBAAM,YAAY,CAAC;AAAC;AAC/D,OAAM,CAAC,OAAO,iBAAO,oD;;;;;;ACLrB,gD;;;;;;ACAA,aAAY,CAAC;;;;;;;;;;;;;;;;;;;AAGb,KAAI,SAAS,GAAG;AACZ,aAAQ,EAAE,mBAAO,CAAC,CAAsB,CAAC;AACzC,WAAM,EAAG,mBAAO,CAAC,CAA4B,CAAC;EACjD,CAAC;AACF,KAAI,IAAI,GAAG,SAAP,IAAI,CAAa,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;AACpC,SAAI,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;EACtC;;;;;AAKD,KAAI,CAAC,SAAS,GAAG,sBAAc,aAAG,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;;;;;;AAM5E,KAAI,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC;;AAE7B,KAAI,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;;AAErD,SAAI,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,OAAO,CAAC;;AAE5B,SAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,SAAS,CAAC,QAAQ,CAAC;;AAEpE,SAAI,IAAI,GAAG,IAAI;SACX,IAAI,GAAG,SAAP,IAAI,GAAe,EAClB;SACD,MAAM,GAAG,IAAI,SAAS,EAAE,CAAC;;AAE7B,SAAI,OAAO,EAAE;;AACT,aAAI,CAAC,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;MACzD;;AAED,SAAI,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,QAAQ,EACxC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;AAE7D,SAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EACxB,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;AACpE,SAAI,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe,IAAI,UAAU,EACjD,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;;;AAGxC,SAAI,CAAC,GAAG,GAAG;AACP,aAAI,EAAE,IAAI;AACV,cAAK,EAAE,IAAI,CAAC,OAAO,KAAK,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC,sBAAsB,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;AACxF,cAAK,EAAE,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU;MACpG,CAAC;;AAEF,SAAI,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;AAAC,aAAI,CAAC,GAAG,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;MAAC,MAAM;AAC9G,gBAAO,CAAC,IAAI,CAAC,0DAA0D,CAAC,CAAC;MAC5E;AACD,SAAI,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE;AAAC,aAAI,CAAC,GAAG,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;MAAC,MAAK;AAC1G,gBAAO,CAAC,IAAI,CAAC,uDAAuD,CAAC,CAAC;MACzE;;AAED,SAAI,CAAC,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;AACnF,SAAI,CAAC,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5F,SAAI,CAAC,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;AACrF,SAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE7E,SAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;;MAEnB,CAAC;;AAEF,SAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;AAChB,UAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;AACxD,WAAE,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;AAC1D,UAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;AACxD,WAAE,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;AAC1D,UAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;AACxD,WAAE,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;AAC1D,UAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;AACxD,WAAE,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;AAC1D,gBAAO,EAAE,IAAI;MAChB,CAAC;;AAEF,SAAI,CAAC,GAAG,CAAC,OAAO,GAAG;AACf,WAAE,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AACvD,UAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACvD,UAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACvD,UAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACvD,UAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;MAC1D;;;;;AAKD,SAAI,CAAC,KAAK,EAAE,CAAC;AACb,SAAI,CAAC,iBAAiB,EAAE;;AAExB,SAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;AACxB,aAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;AACxB,aAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;AAC/B,YAAG,CAAC,kBAAkB,GAAG,YAAY;AACjC,iBAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,GAAG,EAAE;AAC5C,qBAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,qBAAI,GAAG,GAAG,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC;AACzC,oBAAG,CAAC,GAAG,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC7C,qBAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACrC,qBAAI,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;cACvE;UACJ,CAAC;AACF,YAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;AACxC,YAAG,CAAC,YAAY,GAAG,MAAM,CAAC;AAC1B,YAAG,CAAC,IAAI,EAAE,CAAC;MACd;;AAED,SAAI,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAC7C,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,eAAe,GAAG,uBAAuB,CAAC;EAC7E;;;;;;;AAQD,KAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG;;;;AAI9B,sBAAiB,EAAE;AACf,gBAAO,EAAE,SAAS;AAClB,cAAK,EAAE,YAAY;MACtB;;;;AAID,qBAAgB,EAAE;AACd,gBAAO,EAAE,KAAK;AACd,cAAK,EAAE,WAAW;MACrB;AACD,oBAAe,EAAE;AACb,cAAK,EAAE,UAAU;MACpB;;;;AAID,uBAAkB,EAAE;AAChB,gBAAO,EAAE,KAAK;AACd,cAAK,EAAE,aAAa;MACvB;;;;AAID,uBAAkB,EAAE;AAChB,gBAAO,EAAE,KAAK;AACd,cAAK,EAAE,aAAa;MACvB;;;;;;AAMD,oBAAe,EAAE;AACb,gBAAO,EAAE,EAAE;AACX,cAAK,EAAE,UAAU;MACpB;;;;AAID,2BAAsB,EAAE;AACpB,gBAAO,EAAE,EAAE;AACX,cAAK,EAAE,iBAAiB;MAC3B;;;;AAID,0BAAqB,EAAE;AACnB,gBAAO,EAAE,EAAE;AACX,cAAK,EAAE,gBAAgB;MAC1B;;;;AAID,gBAAW,EAAE;AACT,gBAAO,EAAE,SAAS;AAClB,cAAK,EAAE,MAAM;MAChB;EACJ,CAAC;AACF,KAAI,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;;AAE/B,SAAI,CAAC,GAAG,GAAG;AACP,eAAM,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;AACpB,aAAI,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;AAC5C,eAAM,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;AAChC,cAAK,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;AACnB,YAAG,EAAE;AACD,mBAAM,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;UACvB;AACD,cAAK,EAAE;AACH,iBAAI,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;UACjC;AACD,eAAM,EAAE,EAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAC;AACtB,aAAI,EAAE,EAAE;AACR,gBAAO,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;AACrB,cAAK,EAAE,CAAC;MACX,CAAC;AACF,SAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACf,SAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAChB,SAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACjB,SAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;AAElB,SAAI,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,EAChC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;EAC5E;;;;;;AAMD,KAAI,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;AAC/C,aAAQ,IAAI;AACR,cAAK,OAAO;AACR,iBAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAG,gBAAgB,GAAG,KAAK,CAAC;AAC7D,mBAAM;AACV;AACI,mBAAM;AAAA,MACb;EACJ;;;;AAID,KAAI,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;AACnC,aAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAC1C,SAAI,CAAC,iBAAiB,EAAE;AAAC,EAC5B;;;;AAID,KAAI,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;;;AAGnC,aAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;;AAAC,EAE7C;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;AAC3C,SAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,SAAI,CAAC,GAAG,CAAC,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE;;AAEnD,aAAI,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC7B,aAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;AAC3B,kBAAK,CAAC,yBAAyB,CAAC,CAAC;AACjC,oBAAO;UACV;AACD,aAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;AAC5B,aAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;MACtE,EAAE,KAAK,CAAC,CAAC;;AAEV,SAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;AAClB,aAAI,CAAC,GAAG,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;AACnD,iBAAI,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,OAAO,EAAE,CAAC;AACnB,iBAAI,CAAC,SAAS,EAAE,CAAC;UACpB,EAAE,KAAK,CAAC,CAAC;MACb;AACD,SAAI,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;AACjB,aAAI,CAAC,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;AAClD,iBAAI,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,OAAO,EAAE,CAAC;AACnB,iBAAI,CAAC,SAAS,EAAE,CAAC;UACpB,EAAE,KAAK,CAAC,CAAC;MACb;AACD,SAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY;AACpD,aAAI,CAAC,IAAI,EAAE,CAAC;AACZ,aAAI,CAAC,SAAS,EAAE,CAAC;MACpB,CAAC,CAAC;;AAEH,SAAI,CAAC,GAAG,CAAC,WAAW,CAAC,gBAAgB,CAAC,WAAW,EAAE,UAAU,CAAC,EAAE;AAC5D,aAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;AACpB,aAAI,CAAC,UAAU,GAAG,IAAI,CAAC;MAC1B,CAAC,CAAC;AACH,aAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,UAAU,CAAC,EAAE;AAChD,aAAI,IAAI,CAAC,UAAU,EAAE;AACjB,cAAC,CAAC,cAAc,EAAE;AAClB,iBAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;UAClB;MACJ,CAAC,CAAC;AACH,SAAI,CAAC,GAAG,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAY;AACzD,aAAI,CAAC,SAAS,EAAE,CAAC;AACjB,aAAI,CAAC,UAAU,GAAG,KAAK,CAAC;MAC3B,CAAC,CAAC;AACH,aAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAY;AAC7C,aAAI,CAAC,SAAS,EAAE,CAAC;AACjB,aAAI,CAAC,UAAU,GAAG,KAAK,CAAC;MAC3B,CAAC,CAAC;EACN;;;;;;AAMD,KAAI,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,GAAG,EAAE;AAC5C,SAAI,IAAI,GAAG,IAAI,CAAC;AAChB,SAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;;;AAGlB,gBAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE;AAChC,iBAAI,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;UAC7D;AACD,aAAI,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AACjC,eAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;AAC/B,aAAI,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;MACxC;EAEJ;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,IAAI,EAAE;AAC9C,SAAI,IAAI,GAAG,IAAI,CAAC;AAChB,SAAI,CAAC,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;AAC/B,SAAI,CAAC,KAAK,EAAE,CAAC;AACb,SAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,UAAU,OAAO,EAAE;AACrC,gBAAO,UAAU,CAAC,EAAE;AAChB,iBAAI,CAAC,IAAI,GAAG;AACR,qBAAI,EAAE,OAAO;AACb,qBAAI,EAAE,OAAO;AACb,qBAAI,EAAE,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC;AACtC,uBAAM,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM;cAC1B,CAAC;AACF,iBAAI,CAAC,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACvB,iBAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;AAChC,iBAAI,CAAC,GAAG,CAAC,MAAM,GAAG,YAAY;AAC1B,qBAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC/B,qBAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC;AAC3C,qBAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC;AAC1C,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC;AACzC,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC;AACxC,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AACxD,qBAAI,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;AACrD,qBAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AACpC,qBAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AACpC,qBAAI,CAAC,UAAU,EAAE,CAAC;;AAElB,qBAAI,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,EAChC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;AACzE,qBAAI,CAAC,cAAc,GAAG,IAAI;;;;;AAK1B,qBAAI,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;cAClC,CAAC;UAEL,CAAC;MACL,EAAE,IAAI,CAAC,CAAC;;AAET,SAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;EACnC;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;AACjC,SAAI,IAAI,GAAG,IAAI,CAAC;AAChB,SAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACzC,MAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;AAC5B,MAAC,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;AACnD,SAAI,GAAG,GAAG,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;AAE7B,cAAS,iBAAiB,GAAG;;AACzB,aAAI;AACA,gBAAG,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;UAC7F,CAAC,OAAO,CAAC,EAAE;AACR,iBAAI,CAAC,CAAC,IAAI,IAAI,wBAAwB,EAAE;AACpC,2BAAU,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC;cACpC,MAAM;AACH,uBAAM,CAAC,CAAC;cACX;UACJ;MACJ;;AAED,sBAAiB,EAAE,CAAC;AACpB,SAAI,CAAC,GAAG,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;AACtC,eAAU,CAAC,YAAY;AACnB,aAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,CAAC,WAAW,CAAC;AAChE,aAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC;AACjE,aAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;AACzC,aAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;AACzC,aAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAChC,aAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACjC,aAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;AACpC,aAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;;AAEpC,aAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAC1B,iBAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAChD,qBAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AACxB,qBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AAC5E,qBAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AACxC,qBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACpD,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;cACxD,MAAM;AACH,qBAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AACxB,qBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AAC7E,qBAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AACxC,qBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnD,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;cACxD;;AAED,iBAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AAClC,qBAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;AAC1C,yBAAI,IAAI,IAAI,OAAO,EAAE;AACjB,6BAAI,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;sBACtD;kBACJ,CAAC,CAAC;cACN;;AAED,iBAAI,CAAC,IAAI,EAAE,CAAC;UACf;;;AAGD,aAAI,CAAC,cAAc,GAAG,KAAK,CAAC;MAC/B,EAAE,EAAE,CAAC,CAAC;EACV;;;;;;AAMD,KAAI,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,CAAC,EAAE;AACtC,SAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC;AACrC,SAAI,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,qBAAqB,EAAE,CAAC;AAC/D,SAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACjE,SAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAChE,SAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,KAAK,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;AACjG,SAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,KAAK,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;EACpG;;;;;;AAMD,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,CAAC,EAAE;AACjC,SAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,EAAE,OAAO;AACvC,SAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACjE,SAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAChE,aAAQ,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO;AAC7B,cAAK,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACpB,iBAAI,CAAC,IAAI,EAAE,CAAC;AACZ,mBAAM;AACV,cAAK,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AACrB,iBAAI,CAAC,KAAK,EAAE,CAAC;AACb,mBAAM;AACV,cAAK,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACpB,iBAAI,CAAC,IAAI,EAAE,CAAC;AACZ,mBAAM;AACV,cAAK,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AACrB,iBAAI,CAAC,KAAK,EAAE,CAAC;AACb,mBAAM;AACV,cAAK,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACpB,iBAAI,CAAC,IAAI,EAAE,CAAC;AACZ,mBAAM;AACV,cAAK,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AACrB,iBAAI,CAAC,KAAK,EAAE,CAAC;AACb,mBAAM;AACV,cAAK,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACpB,iBAAI,CAAC,IAAI,EAAE,CAAC;AACZ,mBAAM;AACV,cAAK,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AACrB,iBAAI,CAAC,KAAK,EAAE,CAAC;AACb,mBAAM;AACV,cAAK,IAAI,CAAC,GAAG,CAAC,YAAY;AACtB,iBAAI,CAAC,IAAI,EAAE,CAAC;AACZ,mBAAM;AAAA;;AACb,EAEJ;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;AACnC,SAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;EACpC;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,CAAC,EAAE;AAClC,SAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACpB,SAAI,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC;AAC5C,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC;EAC7C;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,CAAC,EAAE;AACjC,SAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACpB,SAAI,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC;AAC3C,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC;EAC5C;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,CAAC,EAAE;AACnC,SAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACpB,SAAI,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC;AAC7C,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC;EAC9C;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,CAAC,EAAE;AACpC,SAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACpB,SAAI,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC;AAC9C,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC;EAC/C;;;;;;;AAOD,KAAI,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,cAAc,EAAE,CAAC,EAAE;AAClD,SAAI,cAAc,EAAE;AAChB,aAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;AACvE,iBAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACf,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AACrC,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,iBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;UACpD,MAAM;AACH,iBAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAChB,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAChC,iBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;UAC1F;MACJ,MAAM;AACH,aAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACzF,iBAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACf,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AACrC,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UACxD,MAAM;AACH,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClD,iBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACvF,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnD,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;UACvC;MACJ;EACJ;;;;;;AAMD,KAAI,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,cAAc,EAAE;AAC5C,SAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAC1B,aAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE;AACvB,iBAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;AACtC,qBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;cACnD,MAAM;AACH,qBAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAClB,qBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,qBAAI,cAAc,EAAE;AAChB,yBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;kBACtC,MAAM;AACH,yBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;kBACxD;AACD,qBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;cACrC;UACJ,MAAM;AACH,iBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;UACnC;MACJ,MAAM;AACH,aAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE;AACvB,iBAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;AACtC,qBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAC/B,qBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;cACtD,MAAM;AACH,qBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AAClC,qBAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;cACrB;UACJ,MAAM;AACH,iBAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACf,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;UACpC;MACJ;EACJ;;;;;;;AAOD,KAAI,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,cAAc,EAAE,EAAE,EAAE;AACnD,SAAI,cAAc,EAAE;AAChB,aAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;AACvE,iBAAI,CAAC,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACrC,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,iBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACjD,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;UACzB,MAAM;AACH,iBAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAChB,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAChC,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UACxD;MACJ,MAAM;AACH,aAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACzF,iBAAI,CAAC,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACrC,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;AACtB,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UACxD,MAAM;AACH,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClD,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;AACpC,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UACxD;MACJ;EACJ;;;;;;AAMD,KAAI,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,cAAc,EAAE;AAC5C,SAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAC1B,aAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACtC,iBAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;AACrC,qBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;cACnD,MAAM;AACH,qBAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAClB,qBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,qBAAI,cAAc,EAAE;AAChB,yBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;kBACtC,MAAM;AACH,yBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;kBACxD;AACD,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;cAC1C;UACJ,MAAM;AACH,iBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;UAClD;MACJ,MAAM;AACH,aAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACtC,iBAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;AACrC,qBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACpD,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;cACxC,MAAM;AACH,qBAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAClB,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;cAC1C;UACJ,MAAM;AACH,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnD,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;UACvC;MACJ;EACJ;;;;;;;AAOD,KAAI,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,cAAc,EAAE,CAAC,EAAE;AAClD,SAAI,cAAc,EAAE;AAChB,aAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,EAAE;AAC3E,iBAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAChB,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AACpC,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,iBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;UACnD,MAAM;AACH,iBAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACf,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACjC,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,iBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;UACpD;MACJ,MAAM;AACH,aAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACzF,iBAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAChB,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AACpC,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UACxD,MAAM;AACH,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnD,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,iBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACjD,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;UACvC;MACJ;EACJ;;;;;;AAMD,KAAI,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,cAAc,EAAE;AAC5C,SAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAC1B,aAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE;AACvB,iBAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;AACtC,qBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;cACnD,MAAM;AACH,qBAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACjB,qBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,qBAAI,cAAc,EAAE;AAChB,yBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;kBACrC,MAAM;AACH,yBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;kBACxD;cACJ;UACJ,MAAM;AACH,iBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;UACnC;MACJ,MAAM;AACH,aAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE;AACvB,iBAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;AACtC,qBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAChC,qBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;cACrD,MAAM;AACH,qBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AACnC,qBAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;cACpB;UACJ,MAAM;AACH,iBAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAChB,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;UACnC;MACJ;EACJ;;;;;;;AAOD,KAAI,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,cAAc,EAAE,CAAC,EAAE;AAClD,SAAI,cAAc,EAAE;AAChB,aAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,EAAE;AAC1E,iBAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnC,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,iBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAChD,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;UACxB,MAAM;AACH,iBAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACf,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACjC,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UACxD;MACJ,MAAM;AACH,aAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACxF,iBAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnC,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;AACrB,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UACxD,MAAM;AACH,iBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnD,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;AACpC,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;UACxD;MACJ;EACJ;;;;;;AAMD,KAAI,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,cAAc,EAAE;AAC5C,SAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAC1B,aAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACtC,iBAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;AACrC,qBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;cACnD,MAAM;AACH,qBAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACjB,qBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,qBAAI,cAAc,EAAE;AAChB,yBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;kBACrC,MAAM;AACH,yBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;kBACxD;AACD,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;cAC1C;UACJ,MAAM;AACH,iBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;UAClD;MACJ,MAAM;AACH,aAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACtC,iBAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;AACrC,qBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnD,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;cACxC,MAAM;AACH,qBAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACjB,qBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;cAC1C;UACJ,MAAM;AACH,iBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClD,iBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;UACvC;MACJ;EACJ;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;AAC/B,SAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAC1B,aAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;AACzI,iBAAI,CAAC,IAAI,EAAE,CAAC;UACf,MAAM;AACF,iBAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;UAC1E;MACJ,MAAM;AACH,aAAI,CAAC,IAAI,EAAE,CAAC;AACZ,aAAI,CAAC,IAAI,EAAE,CAAC;MACf;EACJ;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;AAC/B,SAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAC1B,aAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;AAC3J,iBAAI,CAAC,IAAI,EAAE,CAAC;UACf,MAAM;AACF,iBAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAI,IAAI,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;UACxF;MACJ,MAAM;AACH,aAAI,CAAC,IAAI,EAAE,CAAC;AACZ,aAAI,CAAC,IAAI,EAAE,CAAC;MACf;EACJ;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;AAC/B,SAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAC1B,aAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;AACzJ,iBAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;UACnB,MAAM;AACF,iBAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAI,IAAI,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;UAC5F;MACJ,MAAM;AACH,aAAI,CAAC,IAAI,EAAE,CAAC;AACZ,aAAI,CAAC,IAAI,EAAE,CAAC;MACf;EACJ;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;AAC/B,SAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;AAC1B,aAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;AACvI,iBAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;UACnB,MAAM;AACF,iBAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;UAC9E;MACJ,MAAM;AACH,aAAI,CAAC,IAAI,EAAE,CAAC;AACZ,aAAI,CAAC,IAAI,EAAE,CAAC;MACf;EACJ;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;AAC9B,SAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC;AACvD,SAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC;AACtD,SAAI,IAAI,GAAG,CAAC,EAAE;AACV,aAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AAC3C,iBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;UACtB,MAAM;AACH,iBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;UACpD;MACJ,MAAM;AACH,aAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;MACnB;;AAED,SAAI,GAAG,GAAG,CAAC,EAAE;AACT,aAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AAC1C,iBAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;UACpB,MAAM;AACH,iBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;UACnD;MACJ,MAAM;AACH,aAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;MAClB;;AAED,SAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AACrD,SAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;EACxD;;;;;;AAMD,KAAI,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;AACpC,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;AAC7D,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;AACvD,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;;AAExD,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;;AAExD,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;AACvD,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;AACvD,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;;AAExD,SAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;EACjE;;;;;;;;AAQD,KAAI,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,OAAO,EAAE;;AAE9C,SAAI,OAAO,GAAG,EAAE;SACZ,UAAU;SACV,UAAU,CAAC;;AAEf,SAAI,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;AAChD,mBAAU,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3C,MAAM;AACH,mBAAU,GAAG,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MAChD;;AAED,eAAU,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE/D,UAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACxC,gBAAO,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;MACxC;;AAED,YAAO,IAAI,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC,EAAE,EAAC,IAAI,EAAE,UAAU,EAAC,CAAC,CAAC;EAClE;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;AAC9B,iBAAY,CAAC;;AACb,SAAI,IAAI,GAAG,IAAI,CAAC;AAChB,SAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;SACpC,GAAG,GAAG,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC;SACxB,GAAG,CAAC;AACR,SAAI,CAAC,GAAG,CAAC,MAAM,GAAG;AACd,UAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;AAC/C,UAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;AAC/C,UAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;AAC/C,UAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;MAClD,CAAC;;AAEF,MAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;AAC5B,MAAC,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;;AAE7B,cAAS,iBAAiB,GAAG;;AACzB,aAAI;AACA,gBAAG,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;UACnJ,CAAC,OAAO,CAAC,EAAE;AACR,iBAAI,CAAC,CAAC,IAAI,IAAI,wBAAwB,EAAE;AACpC,2BAAU,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC;cACpC,MAAM;AACH,uBAAM,CAAC,CAAC;cACX;UACJ;MACJ;;AAED,sBAAiB,EAAE,CAAC;AACpB,SAAI,CAAC,UAAU,GAAG,CAAC,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;;AAElD,QAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AAClB,QAAG,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;;AAE1B,SAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;AAC1B,SAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACxD;;;;;AAKD,KAAI,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;AACpC,SAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,SAAI,IAAI,CAAC,IAAI,EAAE;AACX,aAAI,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,SAAS,EAAE;AACtC,iBAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE,UAAU,OAAO,EAAE;AAC/D,wBAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;cAC1E,CAAC,CAAC;UACN,MAAM;AACH,iBAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE,UAAU,OAAO,EAAE;AAC/D,wBAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACvD,wBAAO,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACpD,wBAAO,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACrD,wBAAO,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAChD,wBAAO,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;cACnD,CAAC,CAAC;UACN;MACJ;EACJ,CAAC;;AAEF,KAAI,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;AAC7B,YAAO,CAAC,KAAK,CAAC,UAAU,CAAC;AAAC,EAC7B,CAAC;;SAEe,OAAO,GAAf,IAAI,C;;;;;;;;ACn/Bb,OAAM,CAAC,OAAO,GAAG,EAAE,SAAS,EAAE,mBAAO,CAAC,CAAkC,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,C;;;;;;;;ACA7F,KAAI,CAAC,GAAG,mBAAO,CAAC,CAAiB,CAAC,CAAC;AACnC,OAAM,CAAC,OAAO,GAAG,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAC;AACpC,UAAO,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACvB,C;;;;;;;;ACHD,KAAI,OAAO,GAAG,MAAM,CAAC;AACrB,OAAM,CAAC,OAAO,GAAG;AACf,SAAM,EAAM,OAAO,CAAC,MAAM;AAC1B,WAAQ,EAAI,OAAO,CAAC,cAAc;AAClC,SAAM,EAAM,IAAE,CAAC,oBAAoB;AACnC,UAAO,EAAK,OAAO,CAAC,wBAAwB;AAC5C,UAAO,EAAK,OAAO,CAAC,cAAc;AAClC,WAAQ,EAAI,OAAO,CAAC,gBAAgB;AACpC,UAAO,EAAK,OAAO,CAAC,IAAI;AACxB,WAAQ,EAAI,OAAO,CAAC,mBAAmB;AACvC,aAAU,EAAE,OAAO,CAAC,qBAAqB;AACzC,OAAI,EAAQ,EAAE,CAAC,OAAO;EACvB,C;;;;;;ACZD,wrD;;;;;;ACAA;;AAEA;AACA;AACA;AACA;AACA,iDAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,wCAAuC,oBAAoB,YAAY,WAAW,kBAAkB,8BAA8B,mBAAmB,gBAAgB,gCAAgC,8BAA8B,2BAA2B,0BAA0B,sBAAsB,GAAG,+BAA+B,uBAAuB,GAAG,+BAA+B,oBAAoB,GAAG,6BAA6B,uBAAuB,WAAW,cAAc,YAAY,aAAa,GAAG,oCAAoC,oBAAoB,qBAAqB,GAAG,0CAA0C,oBAAoB,qBAAqB,uBAAuB,uBAAuB,gBAAgB,gBAAgB,oBAAoB,wBAAwB,GAAG,gDAAgD,oBAAoB,qBAAqB,GAAG,4CAA4C,uBAAuB,6BAA6B,WAAW,gBAAgB,iBAAiB,oBAAoB,qBAAqB,iBAAiB,GAAG,gDAAgD,uBAAuB,qBAAqB,WAAW,cAAc,YAAY,aAAa,GAAG,sCAAsC,uBAAuB,GAAG,qCAAqC,uBAAuB,kBAAkB,mBAAmB,4BAA4B,iBAAiB,GAAG,8CAA8C,iBAAiB,YAAY,GAAG,8CAA8C,eAAe,WAAW,GAAG,8CAA8C,cAAc,aAAa,GAAG,8CAA8C,cAAc,gBAAgB,GAAG,sCAAsC,uBAAuB,2BAA2B,gBAAgB,iBAAiB,qBAAqB,iBAAiB,GAAG,gDAAgD,WAAW,cAAc,qBAAqB,sBAAsB,qBAAqB,GAAG,iDAAiD,WAAW,aAAa,qBAAqB,uBAAuB,sBAAsB,GAAG,gDAAgD,aAAa,aAAa,qBAAqB,uBAAuB,qBAAqB,GAAG,iDAAiD,cAAc,aAAa,wBAAwB,uBAAuB,sBAAsB,GAAG,gDAAgD,cAAc,cAAc,wBAAwB,sBAAsB,qBAAqB,GAAG,iDAAiD,cAAc,YAAY,wBAAwB,sBAAsB,sBAAsB,GAAG,gDAAgD,aAAa,YAAY,qBAAqB,sBAAsB,qBAAqB,GAAG,iDAAiD,WAAW,YAAY,qBAAqB,sBAAsB,sBAAsB,GAAG,0BAA0B,gBAAgB,GAAG,mCAAmC,uBAAuB,eAAe,GAAG,oCAAoC,uBAAuB,gBAAgB,cAAc,0BAA0B,mBAAmB,GAAG;;AAEhwG;;;;;;;;;;;;;;ACFA,OAAM,CAAC,OAAO,GAAG,YAAW;AAC3B,MAAI,IAAI,GAAG,EAAE;;;AAGb,MAAI,CAAC,QAAQ,GAAG,SAAS,QAAQ,GAAG;AACnC,OAAI,MAAM,GAAG,EAAE,CAAC;AAChB,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACpC,QAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACnB,QAAG,IAAI,CAAC,CAAC,CAAC,EAAE;AACX,WAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;KACvD,MAAM;AACN,WAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KACrB;IACD;AACD,UAAO,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;GACvB;;;AAGD,MAAI,CAAC,CAAC,GAAG,UAAS,OAAO,EAAE,UAAU,EAAE;AACtC,OAAG,OAAO,OAAO,KAAK,QAAQ,EAC7B,OAAO,GAAG,CAAC,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;AACjC,OAAI,sBAAsB,GAAG,EAAE,CAAC;AAChC,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACpC,QAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB,QAAG,OAAO,EAAE,KAAK,QAAQ,EACxB,sBAAsB,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;IACnC;AACD,QAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACnC,QAAI,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC;;;;;AAKrB,QAAG,OAAO,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;AACnE,SAAG,UAAU,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;AAC1B,UAAI,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC;MACrB,MAAM,IAAG,UAAU,EAAE;AACrB,UAAI,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,SAAS,GAAG,UAAU,GAAG,GAAG,CAAC;MACvD;AACD,SAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAChB;IACD;GACD,CAAC;AACF,SAAO,IAAI,CAAC;EACZ,C;;;;;;ACjDD;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA","file":"sf.crop.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"sf\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"sf\")) : factory(root[\"sf\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ebaffbf4fe7355a081fb\n **/","\"use strict\";\r\nimport sf from 'sf';//resolved in webpack's \"externals\"\r\nimport Crop from './crop';\r\n\r\nsf.instancesController.registerInstanceType(Crop,\"js-sf-crop\");\r\nmodule.exports = Crop;   // ES6 default export will not expose us as global\n\n\n/** WEBPACK FOOTER **\n ** d:/OpenServer/domains/spiral-modules/src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"sf\"\n ** module id = 2\n ** module chunks = 0\n **/","\"use strict\";\r\nimport sf from 'sf';//resolved in webpack's \"externals\"\r\n\r\nvar externals = {\r\n    template: require(\"html!./template.html\"),\r\n    styles : require(\"style!css!less!./crop.less\")\r\n};\r\nvar Crop = function (sf, node, options) {\r\n    this._construct(sf, node, options);\r\n};\r\n\r\n/**\r\n * @lends sf.Form.prototype\r\n */\r\nCrop.prototype = Object.create(sf.modules.core.BaseDOMConstructor.prototype);\r\n\r\n/**\r\n * Name to register\r\n * @type {string}\r\n */\r\nCrop.prototype.name = \"crop\";\r\n\r\nCrop.prototype._construct = function (sf, node, options) {\r\n\r\n    this.init(sf, node, options);//call parent\r\n\r\n    this.options.template = this.options.template || externals.template;\r\n\r\n    var that = this,\r\n        noop = function () {\r\n        },\r\n        parser = new DOMParser();\r\n\r\n    if (options) {//if we pass options extend all options by passed options\r\n        this.options = sf.tools.extend(this.options, options);\r\n    }\r\n\r\n    if (typeof this.options.showInfo == \"string\")\r\n        this.options.showInfo = this.options.showInfo.split(\",\");\r\n\r\n    if (this.options.aspectRatio)\r\n        this.options.aspectRatio = parseFloat(this.options.aspectRatio);//just to be sure about number format, not string\r\n    if (typeof this.options.onFileProcessed != \"function\")\r\n        this.options.onFileProcessed = noop;\r\n\r\n    //elements\r\n    this.els = {\r\n        node: node,\r\n        input: node.tagName === \"INPUT\" ? node : node.getElementsByClassName(\"sf-crop-input\")[0], // todo (renamed from default) they will be not from template\r\n        modal: parser.parseFromString(this.options.template, \"text/html\").firstChild.lastChild.firstChild\r\n    };\r\n\r\n    if (this.options.previewSelector) {this.els.preview = document.querySelector(this.options.previewSelector);} else {\r\n        console.warn('Provide image-preview selector with data-previewSelector');\r\n    }\r\n    if (this.options.adjustSelector) {this.els.adjust = document.querySelector(this.options.adjustSelector);} else{\r\n        console.warn('Provide adjust-crop selector with data-adjustSelector');\r\n    }\r\n\r\n    this.els.cropWrapper = this.els.modal.getElementsByClassName(\"sf-crop-wrapper\")[0];\r\n    this.els.imageOriginal = this.els.modal.getElementsByClassName(\"sf-crop-image-original\")[0];\r\n    this.els.cropElements = this.els.modal.getElementsByClassName(\"sf-crop-elements\")[0];\r\n    this.els.cropSave = this.els.modal.getElementsByClassName(\"sf-crop-save\")[0];\r\n\r\n    this.els.cropInfo = {\r\n        //ratio: this.options.template.getElementsByClassName(\"crop-ratio\")[0]\r\n    };\r\n\r\n    this.els.handlers = {\r\n        n: this.els.modal.getElementsByClassName(\"handler-N\")[0],\r\n        ne: this.els.modal.getElementsByClassName(\"handler-NE\")[0],\r\n        e: this.els.modal.getElementsByClassName(\"handler-E\")[0],\r\n        se: this.els.modal.getElementsByClassName(\"handler-SE\")[0],\r\n        s: this.els.modal.getElementsByClassName(\"handler-S\")[0],\r\n        sw: this.els.modal.getElementsByClassName(\"handler-SW\")[0],\r\n        w: this.els.modal.getElementsByClassName(\"handler-W\")[0],\r\n        nw: this.els.modal.getElementsByClassName(\"handler-NW\")[0],\r\n        current: null\r\n    };\r\n\r\n    this.els.dimmers = {\r\n        el: this.els.modal.getElementsByClassName(\"dimmers\")[0],\r\n        n: this.els.modal.getElementsByClassName(\"dimmer-N\")[0],\r\n        e: this.els.modal.getElementsByClassName(\"dimmer-E\")[0],\r\n        s: this.els.modal.getElementsByClassName(\"dimmer-S\")[0],\r\n        w: this.els.modal.getElementsByClassName(\"dimmer-W\")[0]\r\n    };\r\n\r\n    //this.els.form = this.els.input.querySelector(\"input\").form;\r\n    //this.form = sf.instancesController.getInstance(\"form\", this.els.form);\r\n\r\n    this.reset();\r\n    this.addEventListeners(); //todo divide listeners into 2 fns (one for popup and 2nd for input and visible els)\r\n\r\n    if (this.options.ajaximage) {\r\n        this.els.input.remove();\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function () {\r\n            if (this.readyState == 4 && this.status == 200) {\r\n                var img = new Image();\r\n                var url = window.URL || window.webkitURL;\r\n                img.src = url.createObjectURL(this.response);\r\n                that.handleFileSelect(this.response);\r\n                if (that.els.adjust) that.els.adjust.style.display = 'inline-block';\r\n            }\r\n        };\r\n        xhr.open('GET', that.options.ajaximage);\r\n        xhr.responseType = 'blob';\r\n        xhr.send();\r\n    }\r\n    //IE10 click to move doesn't work. looks like click goes through cropper to background picture =(\r\n    if (navigator.appVersion.indexOf(\"MSIE 10\") != -1)\r\n        this.els.cropElements.style.backgroundColor = \"rgba(255,255,255,0.01\";\r\n};\r\n\r\n\r\n/**\r\n * @override\r\n * @inheritDoc\r\n * @enum {string}\r\n */\r\nCrop.prototype.attributesToGrab = {\r\n    /**\r\n     *  How to send: cropped or full size with coordinates to crop on server <b>Default: \"cropped\"</b> <i>Optional: \"full\"</i>\r\n     */\r\n    \"data-sendFormat\": {\r\n        \"value\": \"cropped\",\r\n        \"key\": \"sendFormat\"\r\n    },\r\n    /**\r\n     *  Preloading of image  <b>Default: \"false\"</b> <i>Optional: url of image to preload</i>\r\n     */\r\n    \"data-ajaximage\": {\r\n        \"value\": false,\r\n        \"key\": \"ajaximage\"\r\n    },\r\n    \"data-template\": {\r\n        \"key\": \"template\"\r\n    },\r\n    /**\r\n     *  Request address for submitting (if there is no form) <b>Default: \"false\"</b> <i>Optional: request URL</i>\r\n     */\r\n    \"data-ajaxAddress\": {\r\n        \"value\": false,\r\n        \"key\": \"ajaxAddress\"\r\n    },\r\n    /**\r\n     *  Locked aspect ratio <b>Default: false</b>\r\n     */\r\n    \"data-aspectRatio\": {\r\n        \"value\": false,\r\n        \"key\": \"aspectRatio\"\r\n    },\r\n    /**\r\n     *  What info to show <b>Default: []</b></br>\r\n     *  <b>Example: </b>data-showInfo=\"ratio,origSize,croppedSIze\"</br>\r\n     *  <b>Note: </b>done only ratio\r\n     */\r\n    \"data-showInfo\": {\r\n        \"value\": [],\r\n        \"key\": \"showInfo\"\r\n    },\r\n    /**\r\n     *  ID of preview element <b>Default: \"\"</b>\r\n     */\r\n    \"data-previewSelector\": {\r\n        \"value\": \"\",\r\n        \"key\": \"previewSelector\"\r\n    },\r\n    /**\r\n     *  Selector of element which twiggers crop-modal <b>Default: \"\"</b>\r\n     */\r\n    \"data-adjustSelector\": {\r\n        \"value\": \"\",\r\n        \"key\": \"adjustSelector\"\r\n    },\r\n    /**\r\n     *  Name for formData <b>Default: \"cropped\"</b>\r\n     */\r\n    \"data-name\": {\r\n        \"value\": \"cropped\",\r\n        \"key\": \"name\"\r\n    }\r\n};\r\nCrop.prototype.reset = function () {\r\n    //Coordinates and Variables\r\n    this.cnv = {\r\n        cursor: {x: 0, y: 0},\r\n        crop: {x: 0, y: 0, x2: 0, y2: 0, w: 0, h: 0},\r\n        toSave: {x: 0, y: 0, w: 0, h: 0},\r\n        image: {w: 0, h: 0},\r\n        old: {\r\n            cursor: {x: 0, y: 0}\r\n        },\r\n        start: {\r\n            crop: {x: 0, y: 0, w: 0, h: 0}\r\n        },\r\n        canvas: {w: 538, h: 0},\r\n        orig: {},\r\n        preview: {w: 0, h: 0},\r\n        scale: 1\r\n    };\r\n    this.setTop(0);\r\n    this.setLeft(0);\r\n    this.setWidth(0);\r\n    this.setHeight(0);\r\n\r\n    if (this.els.imageOriginal.lastChild)\r\n        this.els.imageOriginal.removeChild(this.els.imageOriginal.lastChild);\r\n};\r\n/**\r\n * Changes crop info if need.\r\n * @param type {string}\r\n * @param value {string|number}\r\n */\r\nCrop.prototype.changeInfo = function (type, value) {\r\n    switch (type) {\r\n        case \"ratio\":\r\n            this.els.cropInfo.ratio.innerHTML = \"Aspect ratio: \" + value;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n};\r\n/**\r\n * Shows modal with cropper\r\n */\r\nCrop.prototype.showPopup = function () {\r\n    document.body.appendChild(this.els.modal);\r\n    this.addEventListeners(); //todo only listeners for popups\r\n};\r\n/**\r\n * Hides modal with cropper\r\n */\r\nCrop.prototype.hidePopup = function () {\r\n    //if ($)\r\n    //    $(this.els.modal).modal('hide');\r\n    document.body.removeChild(this.els.modal); //todo fix error\r\n    //todo do we need to remove listeners if there's no node anymore in dom\r\n};\r\n\r\n/**\r\n * Adds events listeners.\r\n */\r\nCrop.prototype.addEventListeners = function () {\r\n    var that = this;\r\n\r\n    this.els.input.addEventListener('change', function (e) {\r\n        //IE9 doesn't support File API\r\n        var file = e.target.files[0];\r\n        if (!file.type.match(/image/)) {\r\n            alert(\"Please select an image.\");\r\n            return;\r\n        }\r\n        that.handleFileSelect(file);\r\n        if(that.els.adjust) that.els.adjust.style.display = 'inline-block';\r\n    }, false);\r\n\r\n    if (this.els.preview) {\r\n        this.els.preview.addEventListener('click', function () {\r\n            if (that.readyToPrepare)\r\n                that.prepare();\r\n            that.showPopup();\r\n        }, false);\r\n    }\r\n    if (this.els.adjust) {\r\n        this.els.adjust.addEventListener('click', function () {\r\n            if (that.readyToPrepare)\r\n                that.prepare();\r\n            that.showPopup();\r\n        }, false);\r\n    }\r\n    this.els.cropSave.addEventListener(\"click\", function () {\r\n        that.save();\r\n        that.hidePopup();\r\n    });\r\n\r\n    this.els.cropWrapper.addEventListener(\"mousedown\", function (e) {\r\n        that.onCropStart(e);\r\n        that.inCropping = true;\r\n    });\r\n    document.addEventListener(\"mousemove\", function (e) {\r\n        if (that.inCropping) {\r\n            e.preventDefault(); //prevent selecting background elements\r\n            that.onCrop(e);\r\n        }\r\n    });\r\n    this.els.cropWrapper.addEventListener(\"mouseup\", function () {\r\n        that.onCropEnd();\r\n        that.inCropping = false;\r\n    });\r\n    document.addEventListener(\"mouseup\", function () {\r\n        that.onCropEnd();\r\n        that.inCropping = false;\r\n    });\r\n};\r\n\r\n/**\r\n * Sets preview\r\n * @param img\r\n */\r\nCrop.prototype.setPreviewImage = function (img) {\r\n    var that = this;\r\n    if (that.els.preview) {\r\n//        if (that.els.preview.lastChild) // Don't remember why was removing only last child\r\n//            that.els.preview.removeChild(that.els.preview.lastChild);\r\n        while (that.els.preview.firstChild) {\r\n            that.els.preview.removeChild(that.els.preview.firstChild);\r\n        }\r\n        var newimg = img.cloneNode(true);\r\n        newimg.style.maxWidth = \"100%\";\r\n        that.els.preview.appendChild(newimg);\r\n    }\r\n\r\n};\r\n/**\r\n * Reads file, selected by user\r\n * @param file\r\n */\r\nCrop.prototype.handleFileSelect = function (file) {\r\n    var that = this;\r\n    this.reader = new FileReader();\r\n    this.reset();\r\n    this.reader.onload = (function (theFile) {\r\n        return function (e) {\r\n            that.file = {\r\n                file: theFile,\r\n                blob: theFile,\r\n                name: encodeURIComponent(theFile.name),\r\n                base64: e.target.result\r\n            };\r\n            that.img = new Image();\r\n            that.img.src = that.file.base64;\r\n            that.img.onload = function () {\r\n                that.setPreviewImage(that.img);\r\n                that.cnv.preview.h = that.img.clientHeight;\r\n                that.cnv.preview.w = that.img.clientWidth;\r\n                that.cnv.orig.h = that.img.naturalHeight;\r\n                that.cnv.orig.w = that.img.naturalWidth;\r\n                that.cnv.orig.ratio = that.cnv.orig.w / that.cnv.orig.h;\r\n                that.cnv.scale = that.cnv.orig.w / that.cnv.canvas.w;\r\n                that.cnv.toSave.w = that.cnv.orig.w;\r\n                that.cnv.toSave.h = that.cnv.orig.h;\r\n                that.attachData();\r\n\r\n                if (that.els.imageOriginal.lastChild)\r\n                    that.els.imageOriginal.removeChild(that.els.imageOriginal.lastChild);\r\n                that.readyToPrepare = true;\r\n                //if (that.options.aspectRatio) {\r\n                //that.prepare();\r\n                //that.showPopup();\r\n                //}\r\n                that.options.onFileProcessed();\r\n            };\r\n\r\n        };\r\n    })(file);\r\n\r\n    this.reader.readAsDataURL(file);\r\n};\r\n\r\n/**\r\n * Prepares canvas, calculates coordinates\r\n */\r\nCrop.prototype.prepare = function () {\r\n    var that = this;\r\n    var c = document.createElement(\"canvas\");\r\n    c.width = that.cnv.canvas.w;\r\n    c.height = that.cnv.canvas.w / that.cnv.orig.ratio;\r\n    var ctx = c.getContext(\"2d\");\r\n\r\n    function drawImageOnCanvas() {//fix to NS_ERROR_NOT_AVAILABLE in firefox with ctx.drawImage\r\n        try {\r\n            ctx.drawImage(that.img, 0, 0, that.cnv.canvas.w, that.cnv.canvas.w / that.cnv.orig.ratio);\r\n        } catch (e) {\r\n            if (e.name == \"NS_ERROR_NOT_AVAILABLE\") {\r\n                setTimeout(drawImageOnCanvas, 0);\r\n            } else {\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\n    drawImageOnCanvas();\r\n    that.els.imageOriginal.appendChild(c);\r\n    setTimeout(function () {\r\n        that.cnv.image.w = that.els.imageOriginal.lastChild.clientWidth;\r\n        that.cnv.image.h = that.els.imageOriginal.lastChild.clientHeight;\r\n        that.cnv.start.crop.w = that.cnv.image.w;\r\n        that.cnv.start.crop.h = that.cnv.image.h;\r\n        that.setWidth(that.cnv.image.w);\r\n        that.setHeight(that.cnv.image.h);\r\n        that.cnv.crop.x2 = that.cnv.image.w;\r\n        that.cnv.crop.y2 = that.cnv.image.h;\r\n\r\n        if (that.options.aspectRatio) {\r\n            if (that.cnv.orig.ratio > that.options.aspectRatio) {\r\n                var w = that.cnv.crop.w;\r\n                that.setWidth(Math.round(that.cnv.start.crop.h * that.options.aspectRatio));\r\n                that.cnv.start.crop.w = that.cnv.crop.w;\r\n                that.setLeft(Math.round((w - that.cnv.crop.w) / 2));\r\n                that.cnv.crop.x2 = that.cnv.crop.x + that.cnv.crop.w;\r\n            } else {\r\n                var h = that.cnv.crop.h;\r\n                that.setHeight(Math.round(that.cnv.start.crop.w / that.options.aspectRatio));\r\n                that.cnv.start.crop.h = that.cnv.crop.h;\r\n                that.setTop(Math.round((h - that.cnv.crop.h) / 2));\r\n                that.cnv.crop.y2 = that.cnv.crop.y + that.cnv.crop.h;\r\n            }\r\n\r\n            if (that.options.showInfo.length > 0) {\r\n                that.options.showInfo.forEach(function (info) {\r\n                    if (info == \"ratio\") {\r\n                        that.changeInfo(\"ratio\", that.options.aspectRatio);\r\n                    }\r\n                });\r\n            }\r\n\r\n            that.save();\r\n        }\r\n\r\n//        that.setDimmers();\r\n        that.readyToPrepare = false;\r\n    }, 50);\r\n};\r\n\r\n/**\r\n * Processes crop start.\r\n * @param {Event} e\r\n */\r\nCrop.prototype.onCropStart = function (e) {\r\n    this.els.handlers.current = e.target;\r\n    this.cnv.offset = this.els.cropWrapper.getBoundingClientRect();\r\n    this.cnv.cursor.x = Math.round(e.clientX - this.cnv.offset.left);\r\n    this.cnv.cursor.y = Math.round(e.clientY - this.cnv.offset.top);\r\n    this.cnv.cursor.offsetX = e.offsetX === undefined ? Math.round(e.layerX) : Math.round(e.offsetX);\r\n    this.cnv.cursor.offsetY = e.offsetY === undefined ? Math.round(e.layerY) : Math.round(e.offsetY);\r\n};\r\n\r\n/**\r\n * Processes cropping (mouse move)\r\n * @param  {Event} e\r\n */\r\nCrop.prototype.onCrop = function (e) {\r\n    if (!this.els.handlers.current) return;\r\n    this.cnv.cursor.x = Math.round(e.clientX - this.cnv.offset.left);\r\n    this.cnv.cursor.y = Math.round(e.clientY - this.cnv.offset.top);\r\n    switch (this.els.handlers.current) {\r\n        case this.els.handlers.n:\r\n            this.setN();\r\n            break;\r\n        case this.els.handlers.ne:\r\n            this.setNE();\r\n            break;\r\n        case this.els.handlers.e:\r\n            this.setE();\r\n            break;\r\n        case this.els.handlers.se:\r\n            this.setSE();\r\n            break;\r\n        case this.els.handlers.s:\r\n            this.setS();\r\n            break;\r\n        case this.els.handlers.sw:\r\n            this.setSW();\r\n            break;\r\n        case this.els.handlers.w:\r\n            this.setW();\r\n            break;\r\n        case this.els.handlers.nw:\r\n            this.setNW();\r\n            break;\r\n        case this.els.cropElements:\r\n            this.move();\r\n            break;\r\n    }\r\n//    this.setDimmers();\r\n};\r\n\r\n/**\r\n * Process crop end.\r\n */\r\nCrop.prototype.onCropEnd = function () {\r\n    this.els.handlers.current = null;\r\n};\r\n/**\r\n * Sets left side of cropper\r\n * @param x {number}\r\n */\r\nCrop.prototype.setLeft = function (x) {\r\n    this.cnv.crop.x = x;\r\n    this.els.cropElements.style.left = x + \"px\";\r\n    this.els.dimmers.el.style.left = x + \"px\";\r\n};\r\n/**\r\n * Sets top side of cropper\r\n * @param y {number}\r\n */\r\nCrop.prototype.setTop = function (y) {\r\n    this.cnv.crop.y = y;\r\n    this.els.cropElements.style.top = y + \"px\";\r\n    this.els.dimmers.el.style.top = y + \"px\";\r\n};\r\n/**\r\n * Sets width of cropper\r\n * @param w {number}\r\n */\r\nCrop.prototype.setWidth = function (w) {\r\n    this.cnv.crop.w = w;\r\n    this.els.cropElements.style.width = w + \"px\";\r\n    this.els.dimmers.el.style.width = w + \"px\";\r\n};\r\n/**\r\n * Sets height of cropper\r\n * @param h {number}\r\n */\r\nCrop.prototype.setHeight = function (h) {\r\n    this.cnv.crop.h = h;\r\n    this.els.cropElements.style.height = h + \"px\";\r\n    this.els.dimmers.el.style.height = h + \"px\";\r\n};\r\n\r\n/**\r\n * Adjusts coordinates.\r\n * @param {boolean|undefined} notDefaultSide\r\n * @param {number} y\r\n */\r\nCrop.prototype.adjustN = function (notDefaultSide, y) {\r\n    if (notDefaultSide) {\r\n        if ((this.cnv.crop.y2 - y) * this.options.aspectRatio <= this.cnv.crop.x2) {\r\n            this.setTop(y);\r\n            this.setHeight(this.cnv.crop.y2 - y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\r\n        } else {\r\n            this.setLeft(0);\r\n            this.setWidth(this.cnv.crop.x2);\r\n            this.setTop(this.cnv.crop.y2 - Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n        }\r\n    } else {\r\n        if ((this.cnv.crop.y2 - y) * this.options.aspectRatio + this.cnv.crop.x <= this.cnv.image.w) {\r\n            this.setTop(y);\r\n            this.setHeight(this.cnv.crop.y2 - y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n        } else {\r\n            this.setWidth(this.cnv.image.w - this.cnv.crop.x);\r\n            this.setTop(this.cnv.crop.y2 - Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n            this.setHeight(this.cnv.crop.y2 - this.cnv.crop.y);\r\n            this.cnv.crop.x2 = this.cnv.image.w;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets top coordinates and border.\r\n * @param {Boolean} [notDefaultSide]\r\n */\r\nCrop.prototype.setN = function (notDefaultSide) {\r\n    if (this.options.aspectRatio) {\r\n        if (this.cnv.cursor.y > 0) {\r\n            if (this.cnv.cursor.y < this.cnv.crop.y2) {\r\n                this.adjustN(notDefaultSide, this.cnv.cursor.y);\r\n            } else {\r\n                this.setHeight(1);\r\n                this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n                if (notDefaultSide) {\r\n                    this.setLeft(this.cnv.crop.x2 - 1);\r\n                } else {\r\n                    this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n                }\r\n                this.setTop(this.cnv.crop.y2 - 1);\r\n            }\r\n        } else {\r\n            this.adjustN(notDefaultSide, 0);\r\n        }\r\n    } else {\r\n        if (this.cnv.cursor.y > 0) {\r\n            if (this.cnv.cursor.y < this.cnv.crop.y2) {\r\n                this.setTop(this.cnv.cursor.y);\r\n                this.setHeight(this.cnv.crop.y2 - this.cnv.crop.y);\r\n            } else {\r\n                this.setTop(this.cnv.crop.y2 - 1);\r\n                this.setHeight(1);\r\n            }\r\n        } else {\r\n            this.setTop(0);\r\n            this.setHeight(this.cnv.crop.y2);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Adjusts coordinates.\r\n * @param {boolean|undefined} notDefaultSide\r\n * @param {number} y2\r\n */\r\nCrop.prototype.adjustS = function (notDefaultSide, y2) {\r\n    if (notDefaultSide) {\r\n        if ((y2 - this.cnv.crop.y) * this.options.aspectRatio <= this.cnv.crop.x2) {\r\n            this.setHeight(y2 - this.cnv.crop.y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\r\n            this.cnv.crop.y2 = y2;\r\n        } else {\r\n            this.setLeft(0);\r\n            this.setWidth(this.cnv.crop.x2);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n        }\r\n    } else {\r\n        if ((y2 - this.cnv.crop.y) * this.options.aspectRatio + this.cnv.crop.x <= this.cnv.image.w) {\r\n            this.setHeight(y2 - this.cnv.crop.y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n            this.cnv.crop.y2 = y2;\r\n            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n        } else {\r\n            this.setWidth(this.cnv.image.w - this.cnv.crop.x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n            this.cnv.crop.x2 = this.cnv.image.w;\r\n            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets bottom coordinates and border.\r\n * @param {Boolean} [notDefaultSide]\r\n */\r\nCrop.prototype.setS = function (notDefaultSide) {\r\n    if (this.options.aspectRatio) {\r\n        if (this.cnv.cursor.y < this.cnv.image.h) {\r\n            if (this.cnv.cursor.y > this.cnv.crop.y) {\r\n                this.adjustS(notDefaultSide, this.cnv.cursor.y);\r\n            } else {\r\n                this.setHeight(1);\r\n                this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n                if (notDefaultSide) {\r\n                    this.setLeft(this.cnv.crop.x2 - 1);\r\n                } else {\r\n                    this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n                }\r\n                this.cnv.crop.y2 = this.cnv.crop.y + 1;\r\n            }\r\n        } else {\r\n            this.adjustS(notDefaultSide, this.cnv.image.h);\r\n        }\r\n    } else {\r\n        if (this.cnv.cursor.y < this.cnv.image.h) {\r\n            if (this.cnv.cursor.y > this.cnv.crop.y) {\r\n                this.setHeight(this.cnv.cursor.y - this.cnv.crop.y);\r\n                this.cnv.crop.y2 = this.cnv.cursor.y;\r\n            } else {\r\n                this.setHeight(1);\r\n                this.cnv.crop.y2 = this.cnv.crop.y + 1;\r\n            }\r\n        } else {\r\n            this.setHeight(this.cnv.image.h - this.cnv.crop.y);\r\n            this.cnv.crop.y2 = this.cnv.image.h;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Adjusts coordinates.\r\n * @param {boolean|undefined} notDefaultSide\r\n * @param {number} x\r\n */\r\nCrop.prototype.adjustW = function (notDefaultSide, x) {\r\n    if (notDefaultSide) {\r\n        if (this.cnv.crop.y2 - (this.cnv.crop.x2 - x) / this.options.aspectRatio >= 0) {\r\n            this.setLeft(x);\r\n            this.setWidth(this.cnv.crop.x2 - x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n            this.setTop(this.cnv.crop.y2 - this.cnv.crop.h);\r\n        } else {\r\n            this.setTop(0);\r\n            this.setHeight(this.cnv.crop.y2);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\r\n        }\r\n    } else {\r\n        if ((this.cnv.crop.x2 - x) / this.options.aspectRatio + this.cnv.crop.y <= this.cnv.image.h) {\r\n            this.setLeft(x);\r\n            this.setWidth(this.cnv.crop.x2 - x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n        } else {\r\n            this.setHeight(this.cnv.image.h - this.cnv.crop.y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\r\n            this.cnv.crop.y2 = this.cnv.image.h;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets left coordinates and border.\r\n * @param {Boolean} [notDefaultSide]\r\n */\r\nCrop.prototype.setW = function (notDefaultSide) {\r\n    if (this.options.aspectRatio) {\r\n        if (this.cnv.cursor.x > 0) {\r\n            if (this.cnv.cursor.x < this.cnv.crop.x2) {\r\n                this.adjustW(notDefaultSide, this.cnv.cursor.x);\r\n            } else {\r\n                this.setWidth(1);\r\n                this.setHeight(Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n                if (notDefaultSide) {\r\n                    this.setTop(this.cnv.crop.y2 - 1);\r\n                } else {\r\n                    this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n                }\r\n            }\r\n        } else {\r\n            this.adjustW(notDefaultSide, 0);\r\n        }\r\n    } else {\r\n        if (this.cnv.cursor.x > 0) {\r\n            if (this.cnv.cursor.x < this.cnv.crop.x2) {\r\n                this.setLeft(this.cnv.cursor.x);\r\n                this.setWidth(this.cnv.crop.x2 - this.cnv.crop.x);\r\n            } else {\r\n                this.setLeft(this.cnv.crop.x2 - 1);\r\n                this.setWidth(1);\r\n            }\r\n        } else {\r\n            this.setLeft(0);\r\n            this.setWidth(this.cnv.crop.x2);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Adjusts coordinates.\r\n * @param {boolean|undefined} notDefaultSide\r\n * @param {number} x\r\n */\r\nCrop.prototype.adjustE = function (notDefaultSide, x) {\r\n    if (notDefaultSide) {\r\n        if (this.cnv.crop.y2 - (x - this.cnv.crop.x) / this.options.aspectRatio >= 0) {\r\n            this.setWidth(x - this.cnv.crop.x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n            this.setTop(this.cnv.crop.y2 - this.cnv.crop.h);\r\n            this.cnv.crop.x2 = x;\r\n        } else {\r\n            this.setTop(0);\r\n            this.setHeight(this.cnv.crop.y2);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n        }\r\n    } else {\r\n        if ((x - this.cnv.crop.x) / this.options.aspectRatio + this.cnv.crop.y <= this.cnv.image.h) {\r\n            this.setWidth(x - this.cnv.crop.x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n            this.cnv.crop.x2 = x;\r\n            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n        } else {\r\n            this.setHeight(this.cnv.image.h - this.cnv.crop.y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.aspectRatio));\r\n            this.cnv.crop.y2 = this.cnv.image.h;\r\n            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets right coordinates and border.\r\n * @param {Boolean} [notDefaultSide]\r\n */\r\nCrop.prototype.setE = function (notDefaultSide) {\r\n    if (this.options.aspectRatio) {\r\n        if (this.cnv.cursor.x < this.cnv.image.w) {\r\n            if (this.cnv.cursor.x > this.cnv.crop.x) {\r\n                this.adjustE(notDefaultSide, this.cnv.cursor.x);\r\n            } else {\r\n                this.setWidth(1);\r\n                this.setHeight(Math.round(this.cnv.crop.w / this.options.aspectRatio));\r\n                if (notDefaultSide) {\r\n                    this.setTop(this.cnv.crop.y2 - 1);\r\n                } else {\r\n                    this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n                }\r\n                this.cnv.crop.x2 = this.cnv.crop.x + 1;\r\n            }\r\n        } else {\r\n            this.adjustE(notDefaultSide, this.cnv.image.w);\r\n        }\r\n    } else {\r\n        if (this.cnv.cursor.x < this.cnv.image.w) {\r\n            if (this.cnv.cursor.x > this.cnv.crop.x) {\r\n                this.setWidth(this.cnv.cursor.x - this.cnv.crop.x);\r\n                this.cnv.crop.x2 = this.cnv.cursor.x;\r\n            } else {\r\n                this.setWidth(1);\r\n                this.cnv.crop.x2 = this.cnv.crop.x + 1;\r\n            }\r\n        } else {\r\n            this.setWidth(this.cnv.image.w - this.cnv.crop.x);\r\n            this.cnv.crop.x2 = this.cnv.image.w;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets top-right corner.\r\n */\r\nCrop.prototype.setNE = function () {\r\n    if (this.options.aspectRatio) {\r\n        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x2) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y) && this.cnv.cursor.x <= this.cnv.crop.x2) {\r\n            this.setN();\r\n        } else {\r\n            (this.cnv.cursor.y >= this.cnv.crop.y) ? this.setE(true) : this.setN();\r\n        }\r\n    } else {\r\n        this.setN();\r\n        this.setE();\r\n    }\r\n};\r\n\r\n/**\r\n * Sets bottom-right corner.\r\n */\r\nCrop.prototype.setSE = function () {\r\n    if (this.options.aspectRatio) {\r\n        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x2) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y - this.cnv.crop.h) && this.cnv.cursor.x <= this.cnv.crop.x2) {\r\n            this.setS();\r\n        } else {\r\n            (this.cnv.cursor.y <= this.cnv.crop.y + this.cnv.crop.h) ? this.setE() : this.setS();\r\n        }\r\n    } else {\r\n        this.setS();\r\n        this.setE();\r\n    }\r\n};\r\n\r\n/**\r\n * Sets bottom-left corner.\r\n */\r\nCrop.prototype.setSW = function () {\r\n    if (this.options.aspectRatio) {\r\n        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y - this.cnv.crop.h) && this.cnv.cursor.x >= this.cnv.crop.x) {\r\n            this.setS(true);\r\n        } else {\r\n            (this.cnv.cursor.y <= this.cnv.crop.y + this.cnv.crop.h) ? this.setW() : this.setS(true);\r\n        }\r\n    } else {\r\n        this.setS();\r\n        this.setW();\r\n    }\r\n};\r\n\r\n/**\r\n * Sets top-left corner.\r\n */\r\nCrop.prototype.setNW = function () {\r\n    if (this.options.aspectRatio) {\r\n        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y) && this.cnv.cursor.x >= this.cnv.crop.x) {\r\n            this.setN(true);\r\n        } else {\r\n            (this.cnv.cursor.y >= this.cnv.crop.y) ? this.setW(true) : this.setN(true);\r\n        }\r\n    } else {\r\n        this.setN();\r\n        this.setW();\r\n    }\r\n};\r\n\r\n/**\r\n * Processes move crop selection.\r\n */\r\nCrop.prototype.move = function () {\r\n    var left = this.cnv.cursor.x - this.cnv.cursor.offsetX;\r\n    var top = this.cnv.cursor.y - this.cnv.cursor.offsetY;\r\n    if (left > 0) {\r\n        if (left + this.cnv.crop.w < this.cnv.image.w) {\r\n            this.setLeft(left);\r\n        } else {\r\n            this.setLeft(this.cnv.image.w - this.cnv.crop.w);\r\n        }\r\n    } else {\r\n        this.setLeft(0);\r\n    }\r\n\r\n    if (top > 0) {\r\n        if (top + this.cnv.crop.h < this.cnv.image.h) {\r\n            this.setTop(top);\r\n        } else {\r\n            this.setTop(this.cnv.image.h - this.cnv.crop.h);\r\n        }\r\n    } else {\r\n        this.setTop(0);\r\n    }\r\n\r\n    this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n    this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n};\r\n\r\n/**\r\n * Deprecated.\r\n * Sets dimmers.\r\n */\r\nCrop.prototype.setDimmers = function () {\r\n    this.els.dimmers.n.style.top = this.cnv.crop.y - 1000 + \"px\";\r\n    this.els.dimmers.n.style.left = this.cnv.crop.x + \"px\";\r\n    this.els.dimmers.n.style.width = this.cnv.crop.w + \"px\";\r\n\r\n    this.els.dimmers.e.style.left = this.cnv.crop.x2 + \"px\";\r\n\r\n    this.els.dimmers.s.style.top = this.cnv.crop.y2 + \"px\";\r\n    this.els.dimmers.s.style.left = this.cnv.crop.x + \"px\";\r\n    this.els.dimmers.s.style.width = this.cnv.crop.w + \"px\";\r\n\r\n    this.els.dimmers.w.style.left = this.cnv.crop.x - 1000 + \"px\";\r\n};\r\n\r\n/**\r\n * Converts dataURI to Blob.\r\n * http://stackoverflow.com/questions/4998908/convert-data-uri-to-file-then-append-to-formdata\r\n * @param dataURI\r\n * @returns {Blob}\r\n */\r\nCrop.prototype.dataURItoBlob = function (dataURI) {\r\n\r\n    var content = [],\r\n        byteString,\r\n        mimeString;\r\n\r\n    if (dataURI.split(',')[0].indexOf('base64') !== -1) {\r\n        byteString = atob(dataURI.split(',')[1])\r\n    } else {\r\n        byteString = decodeURI(dataURI.split(',')[1])\r\n    }\r\n\r\n    mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\r\n\r\n    for (var i = 0; i < byteString.length; i++) {\r\n        content[i] = byteString.charCodeAt(i)\r\n    }\r\n\r\n    return new Blob([new Uint8Array(content)], {type: mimeString});\r\n};\r\n\r\n/**\r\n * Saves results to preview.\r\n */\r\nCrop.prototype.save = function () {\r\n    'use strict';\r\n    var that = this;\r\n    var c = document.createElement(\"canvas\"),\r\n        ctx = c.getContext(\"2d\"),\r\n        img;\r\n    this.cnv.toSave = {//CoordinateS\r\n        w: Math.round(this.cnv.crop.w * this.cnv.scale),\r\n        h: Math.round(this.cnv.crop.h * this.cnv.scale),\r\n        x: Math.round(this.cnv.crop.x * this.cnv.scale),\r\n        y: Math.round(this.cnv.crop.y * this.cnv.scale)\r\n    };\r\n\r\n    c.width = this.cnv.toSave.w;\r\n    c.height = this.cnv.toSave.h;\r\n\r\n    function drawImageOnCanvas() {//TODO refactor this piece. Almost the same as in prepare().\r\n        try {\r\n            ctx.drawImage(that.img, that.cnv.toSave.x, that.cnv.toSave.y, that.cnv.toSave.w, that.cnv.toSave.h, 0, 0, that.cnv.toSave.w, that.cnv.toSave.h);\r\n        } catch (e) {\r\n            if (e.name == \"NS_ERROR_NOT_AVAILABLE\") {\r\n                setTimeout(drawImageOnCanvas, 0);\r\n            } else {\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\n    drawImageOnCanvas();\r\n    this.strDataURI = c.toDataURL(\"image/jpeg\", 0.95);\r\n\r\n    img = new Image();\r\n    img.src = this.strDataURI;\r\n\r\n    this.setPreviewImage(img);\r\n    this.file.blob = this.dataURItoBlob(this.strDataURI);\r\n};\r\n\r\n/**\r\n * Attaches data to formData\r\n */\r\nCrop.prototype.attachData = function () {\r\n    var that = this;\r\n\r\n    if (this.form) {\r\n        if (this.options.sendFormat == \"cropped\") {\r\n            this.form.events.registerAction(\"beforeSubmit\", function (options) {\r\n                options.data.append(that.options.name, that.file.blob, that.file.name);\r\n            });\r\n        } else {\r\n            this.form.events.registerAction(\"beforeSubmit\", function (options) {\r\n                options.data.append(that.options.name, that.file.file);\r\n                options.data.append(\"cropWidth\", that.cnv.toSave.w);\r\n                options.data.append(\"cropHeight\", that.cnv.toSave.h);\r\n                options.data.append(\"cropX\", that.cnv.toSave.x);\r\n                options.data.append(\"cropY\", that.cnv.toSave.y);\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\nCrop.prototype.die = function () {\r\n    console.error(\"TODO DIE\");//TODO DIE\r\n};\r\n\r\nexport { Crop as default };\n\n\n/** WEBPACK FOOTER **\n ** d:/OpenServer/domains/spiral-modules/src/crop.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** d:/OpenServer/domains/spiral-modules/~/babel-runtime/core-js/object/create.js\n **/","var $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n\n\n/** WEBPACK FOOTER **\n ** d:/OpenServer/domains/spiral-modules/~/core-js/library/fn/object/create.js\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/** WEBPACK FOOTER **\n ** d:/OpenServer/domains/spiral-modules/~/core-js/library/modules/$.js\n **/","module.exports = \"<div class=\\\"sf-crop-modal modal crop\\\">\\r\\n        <div class=\\\"modal-body\\\">\\r\\n            <div class=\\\"crop-info\\\">\\r\\n                <span class=\\\"crop-ratio\\\"></span>\\r\\n            </div>\\r\\n            <div class=\\\"crop-container\\\">\\r\\n                <div class=\\\"sf-crop-image-original\\\"></div>\\r\\n                <div class=\\\"sf-crop-wrapper crop-wrapper\\\">\\r\\n                    <div class=\\\"dimmers-container\\\">\\r\\n                        <div class=\\\"dimmers\\\">\\r\\n                            <div class=\\\"dimmer dimmer-N\\\"></div>\\r\\n                            <div class=\\\"dimmer dimmer-E\\\"></div>\\r\\n                            <div class=\\\"dimmer dimmer-S\\\"></div>\\r\\n                            <div class=\\\"dimmer dimmer-W\\\"></div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"sf-crop-elements crop-elements\\\">\\r\\n                        <div class=\\\"handler handler-N\\\"></div>\\r\\n                        <div class=\\\"handler handler-NE\\\"></div>\\r\\n                        <div class=\\\"handler handler-E\\\"></div>\\r\\n                        <div class=\\\"handler handler-SE\\\"></div>\\r\\n                        <div class=\\\"handler handler-S\\\"></div>\\r\\n                        <div class=\\\"handler handler-SW\\\"></div>\\r\\n                        <div class=\\\"handler handler-W\\\"></div>\\r\\n                        <div class=\\\"handler handler-NW\\\"></div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <br>\\r\\n            <button type=\\\"button\\\" class=\\\"sf-crop-save\\\">Save changes</button>\\r\\n        </div>\\r\\n</div>\\r\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/html-loader!./src/template.html\n ** module id = 7\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/less-loader/index.js!./crop.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/less-loader/index.js!./crop.less\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/less-loader/index.js!./crop.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader!./~/css-loader!./~/less-loader!./src/crop.less\n ** module id = 8\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".modal.crop {\\n  position: fixed;\\n  left: 0;\\n  top: 0;\\n  padding: 20px;\\n  background-color: #FC9848;\\n  overflow: auto;\\n  width: auto;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n.modal.crop .crop-container {\\n  position: relative;\\n}\\n.modal.crop .image-original {\\n  font-size: 50px;\\n}\\n.modal.crop .crop-wrapper {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n.modal.crop .crop-wrapper .thumb {\\n  max-width: 100%;\\n  max-height: 100%;\\n}\\n.modal.crop .crop-wrapper .thumb > img {\\n  max-width: 100%;\\n  max-height: 100%;\\n  position: relative;\\n  visibility: hidden;\\n  z-index: -1;\\n  width: 100%;\\n  min-width: 100%;\\n  margin-bottom: -4px;\\n}\\n.modal.crop .crop-wrapper .transparent-image {\\n  max-width: 100%;\\n  max-height: 100%;\\n}\\n.modal.crop .crop-wrapper .crop-elements {\\n  position: absolute;\\n  border: 1px dashed black;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  max-width: 100%;\\n  max-height: 100%;\\n  cursor: move;\\n}\\n.modal.crop .crop-wrapper .dimmers-container {\\n  position: absolute;\\n  overflow: hidden;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n.modal.crop .crop-wrapper .dimmers {\\n  position: absolute;\\n}\\n.modal.crop .crop-wrapper .dimmer {\\n  position: absolute;\\n  width: 1000px;\\n  height: 1000px;\\n  background-color: black;\\n  opacity: 0.3;\\n}\\n.modal.crop .crop-wrapper .dimmer.dimmer-N {\\n  bottom: 100%;\\n  left: 0;\\n}\\n.modal.crop .crop-wrapper .dimmer.dimmer-E {\\n  left: 100%;\\n  top: 0;\\n}\\n.modal.crop .crop-wrapper .dimmer.dimmer-S {\\n  top: 100%;\\n  right: 0;\\n}\\n.modal.crop .crop-wrapper .dimmer.dimmer-W {\\n  bottom: 0;\\n  right: 100%;\\n}\\n.modal.crop .crop-wrapper .handler {\\n  position: absolute;\\n  border: 1px solid #333;\\n  width: 10px;\\n  height: 10px;\\n  background: #FFF;\\n  opacity: 0.5;\\n}\\n.modal.crop .crop-wrapper .handler.handler-N {\\n  top: 0;\\n  left: 50%;\\n  margin-top: -6px;\\n  margin-left: -6px;\\n  cursor: n-resize;\\n}\\n.modal.crop .crop-wrapper .handler.handler-NE {\\n  top: 0;\\n  right: 0;\\n  margin-top: -6px;\\n  margin-right: -6px;\\n  cursor: ne-resize;\\n}\\n.modal.crop .crop-wrapper .handler.handler-E {\\n  top: 50%;\\n  right: 0;\\n  margin-top: -6px;\\n  margin-right: -6px;\\n  cursor: e-resize;\\n}\\n.modal.crop .crop-wrapper .handler.handler-SE {\\n  bottom: 0;\\n  right: 0;\\n  margin-bottom: -6px;\\n  margin-right: -6px;\\n  cursor: se-resize;\\n}\\n.modal.crop .crop-wrapper .handler.handler-S {\\n  bottom: 0;\\n  left: 50%;\\n  margin-bottom: -6px;\\n  margin-left: -6px;\\n  cursor: s-resize;\\n}\\n.modal.crop .crop-wrapper .handler.handler-SW {\\n  bottom: 0;\\n  left: 0;\\n  margin-bottom: -6px;\\n  margin-left: -6px;\\n  cursor: sw-resize;\\n}\\n.modal.crop .crop-wrapper .handler.handler-W {\\n  top: 50%;\\n  left: 0;\\n  margin-top: -6px;\\n  margin-left: -6px;\\n  cursor: w-resize;\\n}\\n.modal.crop .crop-wrapper .handler.handler-NW {\\n  top: 0;\\n  left: 0;\\n  margin-top: -6px;\\n  margin-left: -6px;\\n  cursor: nw-resize;\\n}\\n.modal.crop .crop-save {\\n  width: 100%;\\n}\\n.modal.crop .change-orientation {\\n  position: relative;\\n  top: -15px;\\n}\\n.modal.crop .modal-header .close {\\n  position: absolute;\\n  right: 15px;\\n  top: 15px;\\n  text-decoration: none;\\n  color: #e07251;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/less-loader!./src/crop.less\n ** module id = 9\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** d:/OpenServer/domains/spiral-modules/~/css-loader/lib/css-base.js\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 11\n ** module chunks = 0\n **/"],"sourceRoot":""}